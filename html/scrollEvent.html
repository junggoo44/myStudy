<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>스크롤이벤트 구현하기</title>

	<link rel="stylesheet" href="../resources/scss/css/scroll.css">
	<script src="../resources/js/jquery-3.6.0.min.js"></script>
	<script>
		$(document).ready(function () {
			$(".btnContainer2 span").on("click", function () {
				secNo = $(this).index();
				var secScroll = $("section").eq(secNo).offset().top;
				console.log(secScroll);

				$(".scrollWrap2").animate({
					"scrollTop": secScroll - 190
				}, 500);
			});

			$(".scrollWrap2").scroll(function () {
				scrollIdx = $(".scrollWrap2").scrollTop(); // 스크롤 값 알아내기
				console.log(scrollIdx);
				scrChange();
			});

			function scrChange() {
				if (scrollIdx < 1) {
					$(".scrollWrap2 .con1").removeClass("on");
				} else {
					$(".scrollWrap2 .con1").addClass("on");
				}
				if (scrollIdx < 700) {
					$(".scrollWrap2 .con2").removeClass("on");
				} else {
					$(".scrollWrap2 .con2").addClass("on");
				}
				if (scrollIdx < 1400) {
					$(".scrollWrap2 .con3").removeClass("on");
				} else {
					$(".scrollWrap2 .con3").addClass("on");
				}
			};
		});
	</script>
</head>

<body>
	<div class="conTitle">
		<h1>스크롤이벤트 구현하기</h1>
	</div>
	<div class="conBody">
		<!-- 설명 -->
		<!-- <div class="guide">
			<h2 class="title">설명</h2>
			<div class="textBox"></div>
		</div> -->

		<!-- 미리보기 -->
		<div class="contentBox">
			<ol>
				<li>1. 버튼 클릭 시 해당 section으로 이동</li>
				<li>2. 마우스 스크롤로 화면 스크롤하여 각 section 최상단에 위치했을 때 배경색 변경</li>
			</ol>
			<div class="container">

				<!-- CSS scroll-behavior 속성을 이용하여 구현 : s -->
				<div>
					<h2 class="title">CSS scroll-behavior 속성을 이용하여 구현</h2>
					<nav class="btnContainer">
						<span><a href="#content1">SECTION1</a></span>
						<span><a href="#content2">SECTION2</a></span>
						<span><a href="#content3">SECTION3</a></span>
					</nav>
					<div class="scrollWrap">
						<section id="content1" class="con con1">SECTION1</section>
						<section id="content2" class="con con2">SECTION2</section>
						<section id="content3" class="con con3">SECTION3</section>
					</div>
				</div>
				<!-- CSS scroll-behavior 속성을 이용하여 구현 : e -->

				<!-- 스크립트로 구현 + 배경색 변경 : s -->
				<div>
					<h2 class="title">스크립트로 구현 + 배경색 변경</h2>
					<nav class="btnContainer btnContainer2">
						<span><a href="#;">SECTION1</a></span>
						<span><a href="#;">SECTION2</a></span>
						<span><a href="#;">SECTION3</a></span>
					</nav>
					<div class="scrollWrap scrollWrap2">
						<section class="con con1">SECTION1</section>
						<section class="con con2">SECTION2</section>
						<section class="con con3">SECTION3</section>
					</div>
				</div>
				<!-- 스크립트로 구현 + 배경색 변경 : e -->

			</div>
		</div>
	</div>
</body>

</html>